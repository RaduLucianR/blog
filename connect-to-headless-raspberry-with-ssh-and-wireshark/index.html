<!doctype html><html lang=en-US><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://brunescu.com/images/favicon.png><title>Connect to headless Raspberry with SSH and Wireshark | Brunescu</title><meta name=title content="Connect to headless Raspberry with SSH and Wireshark"><meta name=description content="Connect to headless Raspberry with SSH and Wireshark"><meta name=keywords content="software,en,"><meta property="og:title" content="Connect to headless Raspberry with SSH and Wireshark"><meta property="og:description" content="Connect to headless Raspberry with SSH and Wireshark"><meta property="og:type" content="article"><meta property="og:url" content="https://brunescu.com/connect-to-headless-raspberry-with-ssh-and-wireshark/"><meta property="og:image" content="https://brunescu.com/images/share.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-07-25T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-25T00:00:00+00:00"><meta property="og:site_name" content="Brunescu"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://brunescu.com/images/share.png"><meta name=twitter:title content="Connect to headless Raspberry with SSH and Wireshark"><meta name=twitter:description content="Connect to headless Raspberry with SSH and Wireshark"><meta itemprop=name content="Connect to headless Raspberry with SSH and Wireshark"><meta itemprop=description content="Connect to headless Raspberry with SSH and Wireshark"><meta itemprop=datePublished content="2024-07-25T00:00:00+00:00"><meta itemprop=dateModified content="2024-07-25T00:00:00+00:00"><meta itemprop=wordCount content="471"><meta itemprop=image content="https://brunescu.com/images/share.png"><meta itemprop=keywords content="software,en,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=/ class=title><h2>Brunescu</h2></a><nav><a href=/>Home</a>
<a href=/blog>Blog</a></nav></header><main><h1>Connect to headless Raspberry with SSH and Wireshark</h1><p><i><time datetime=2024-07-25 pubdate>25 Jul, 2024</time></i></p><content><hr><p>In many situations one would like to connect to their Raspberry Pi without the needing a keyboard, mouse and a screen. Most people don&rsquo;t have them just lying around. Then the only option is to connect your laptop and Raspberry with an Ethernet cable, either directly or via a router, and then use <a href=https://en.wikipedia.org/wiki/Secure_Shell>SSH</a> to remotely login into the Raspberry. This latter option is called &ldquo;headless&rdquo; connection, because of the lack of a GUI.</p><p>Unfortunately, many tutorials just didn&rsquo;t work for me. They might suggest you connect with <code>ssh pi@raspberrypi.local</code> like <a href=https://www.tomshardware.com/reviews/raspberry-pi-headless-setup-how-to,6028.html>here</a>, which just doesn&rsquo;t resolve to the Raspberry&rsquo;s IP address and leaves the terminal hanging. Other tutorials might tell you a very convoluted way to find the IP address of the Raspberry by downloading a special program. Moreover, even if you find the IP of the Raspberry, it might be IPv6 and then no one tells you how to use it. The vast majority juts care about IPv4.</p><p>This is my method of connecting with SSH to a Raspberry, that works both on Windows and on Linux (I don&rsquo;t have a Mac but I presume it should work since it works for Linux). Firstly, we have to find the IP address that is given to the Raspberry by your computer&rsquo;s DHCP server when you plug the Ethernet cable in your computer. We use a <a href=https://en.wikipedia.org/wiki/Packet_analyzer>packet sniffer</a> for that, namely Wireshark. Then, we run Wireshark and find the Raspberry&rsquo;s IP address which we then use for the <code>ssh</code> command.</p><h3 id=linux>Linux</h3><ol><li>Open a new terminal. Download and install Wireshark with the following command:</li></ol><pre tabindex=0><code>sudo apt install wireshark
</code></pre><ol start=2><li>Run Wireshark as root:</li></ol><pre tabindex=0><code>sudo wireshark
</code></pre><ol start=3><li>Wireshark&rsquo;s GUI opens up. Select your Ethernet interface by double-clicking on it. In general it is called <code>eth0</code>:
<img src=/static/images/sshrpi/selectinterface.png alt=img></li><li>If the Ethernet from the Raspberry is already plugged in then a stream of packets should appear on the screen. Otherwise, plug in the Ethernet cable in your computer.</li><li>Look at the stream of packets. One packet of the MDNS protocol should contain a reference to <code>raspberrypi.local</code>, like the highlighted one in the screenshot below. The source of that packet is the Raspberry, and we can see its IPv6 or IPv4 address.
<img src=/static/images/sshrpi/sniff.png alt=img></li><li>In my case, I can see only IPv6 addresses (I don&rsquo;t know why. If somebody knows then please let me know). That is no problem. Copy the IPv6 address.</li><li>Open a new terminal and use SSH to connect to the Raspberry. The format of the command for IPv4 is:</li></ol><pre tabindex=0><code>ssh [user]@[IPv4]
</code></pre><ul><li>For IPv6 the format is:</li></ul><pre tabindex=0><code>ssh -6 [user]@[IPv6]%[interface]
</code></pre><ul><li>In my case the username for the Raspberry is the default one, <code>pi</code>. The interface is <code>eth0</code>, the one that we are sniffing with Wireshark. Thus, my command is:</li></ul><pre tabindex=0><code>ssh -6 pi@fe80::3db:cf7f:5ee8:4d5b%eth0
</code></pre><ol start=8><li>You should be prompted to enter the password, which by default is <code>raspberry</code>. Then, you should be in!
<img src=/static/images/sshrpi/connect.png alt=img></li></ol></content><p><a href=https://brunescu.com/blog/software/>#software</a>
<a href=https://brunescu.com/blog/en/>#en</a></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>